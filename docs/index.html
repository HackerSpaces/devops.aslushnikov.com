<meta charset='utf-8'>
<title>DevOps - Playwright</title>
<link rel="icon" href="/favicon.svg">
<link rel=stylesheet href=./typography.css>
<link rel=stylesheet href=./docker-size.css>
<link rel=stylesheet href=./cdn-status.css>
<a style="position: absolute; right: 0; top: 0;" href="https://github.com/aslushnikov/devops.aslushnikov.com" aria-label="View source on GitHub"><img src='/github.svg'></a>

<style>
  body {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
  }

  .gallery {
    display: grid;
    grid-gap: 15px;
    grid-template-columns: repeat(auto-fit, minmax(550px, 1fr));
    grid-auto-flow: dense;
  }

  .tile {
    border: 1px solid var(--border-color);
    border-radius: 10px;
    box-shadow: 2px 2px 5px 0px #EEEEEE;
  }
</style>

<script type=module>
  import {html} from './zhtml.js';
  import {fetchCDNStatus, renderWebkitCDNStatus, renderFirefoxCDNStatus} from './cdn-status.js';
  import {fetchDockerStats, dockerSizeStats} from './docker-size.js';

  window.addEventListener('DOMContentLoaded', async () => {
    const [cdnData, dockerData] = await Promise.all([
      fetchCDNStatus(),
      fetchDockerStats(),
    ]);

    document.body.append(html`
      <div class="gallery">
        <div class=tile>${renderWebkitCDNStatus(cdnData, true /* preview */)}</div>
        <div class=tile>${renderFirefoxCDNStatus(cdnData, true /* preview */)}</div>
        <div class=tile>${dockerSizeStats(dockerData, true /* preview */)}</div>
      </div>
    `);
  }, false);
</script>
